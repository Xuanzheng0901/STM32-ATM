这里是用8266联网相关代码,实现stm32与互联网的通信

时序图如下:

  ```sequence
  Note over stm32: 用户请求
  stm32->8266: 串口发送请求\n获取、更改、删除
  8266->服务器: 发送HTTP请求\n分别对应方法GET、POST、DELETE
  服务器->8266: 返回对应数据
  8266->stm32: 串口返回请求状态与数据
  Note over stm32:处理数据
  Note over 8266,服务器: HTTP协议网络通信
  ```

|                    | stm32发送格式                                            | 请求方法 | 访问uri       | 返回值                           |
| ------------------ | -------------------------------------------------------- | -------- | ------------- | -------------------------------- |
| 开机时获取用户列表 | 'L'                                                      | GET      | /List         | 逗号隔开的用户索引列表           |
| 获取用户数据       | 'G' +{用户索引}                                          | GET      | /Userx/info   | {用户账户} + {用户密码} + {余额} |
| 更改用户数据       | 'P' + {用户索引}+ {用户账户} + {用户密码} + {余额} + '@' | POST     | /Userx/post   | 无                               |
| 删除用户           | 'D' + {用户索引}                                         | DELETE   | /Userx/delete | 无                               |

stm32与8266通信为纯字符通信,stm发送以!结尾,8266发送以\\r\\n结尾